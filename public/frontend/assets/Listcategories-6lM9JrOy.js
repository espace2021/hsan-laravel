import{u as g,r,j as e,a as x,L as p}from"./index-6JVNwdEB.js";import{B as u,a as d,u as h,M as f}from"./index.esm-sZGy6Q7W.js";const m=({categories:a,setCategories:i})=>{const n=async t=>{window.confirm("Are you sure you want to delete")&&x.delete(`https://backendecomgs1.vercel.app/api/api/categories/${t}`).then(()=>{console.log("successfully deleted!"),i(a.filter(o=>o.id!==t))}).catch(o=>{console.log(o)})},c=g(),l=r.useMemo(()=>[{accessorKey:"imagecategorie",header:"Image",Cell:({cell:t})=>e.jsx(u,{sx:{display:"flex",alignItems:"center",gap:"1rem"},children:e.jsx("img",{alt:"",width:200,height:80,src:t.getValue(),loading:"lazy",style:{borderRadius:"5%"}})})},{accessorKey:"nomcategorie",header:"Nom Catégorie",size:100},{accessorKey:"id",header:"actions",size:10,Cell:({cell:t,row:o})=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"0.5rem"},children:[e.jsx(d,{onClick:()=>{c(`/categories/edit/${t.row.original.id}`)},variant:"contained",color:"warning",style:{fontSize:"20px",padding:"12px 24px"},children:e.jsx("i",{className:"fa-solid fa-pen-to-square"})}),e.jsx(d,{onClick:()=>{n(t.row.original.id)},variant:"contained",color:"error",style:{fontSize:"20px",padding:"12px 24px"},children:e.jsx("i",{className:"fa fa-trash"})})]})}],[a]),s=h({columns:l,data:a});return e.jsx("div",{className:"container",children:a&&a.length>0&&e.jsx(f,{table:s})})},v=()=>{const[a,i]=r.useState([]),[n,c]=r.useState(!0),l=async()=>{fetch("https://backendecomgs1.vercel.app/api/api/categories").then(s=>s.json()).then(s=>i(s)).catch(s=>console.error(s)).finally(()=>c(!1))};return r.useEffect(()=>{l()},[]),n?e.jsx("div",{children:"Loading Data please wait..."}):e.jsxs("div",{children:[e.jsx(d,{variant:"contained",style:{backgroundColor:"black"},children:e.jsxs(p,{to:"/categories/add",style:{color:"white",textDecoration:"none"},children:[e.jsx("i",{className:"fa-solid fa-plus-square"})," Nouveau"]})}),e.jsx("h2",{children:"Liste des catégories "}),e.jsx(m,{categories:a,setCategories:i})]})};export{v as default};
