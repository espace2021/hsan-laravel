import{u as x,r,j as e,a as g,L as p}from"./index-B4B4dA6W.js";import{B as u,a as d,u as h,M as f}from"./index.esm-KhFXzUZF.js";const m=({categories:a,setCategories:i})=>{const n=async s=>{window.confirm("Are you sure you want to delete")&&g.delete(`https://backendecomgs1.vercel.app/api/api/categories/${s}`).then(()=>{console.log("successfully deleted!"),i(a.filter(o=>o.id!==s))}).catch(o=>{console.log(o)})},c=x(),l=r.useMemo(()=>[{accessorKey:"imagecategorie",header:"Image",Cell:({cell:s})=>e.jsx(u,{sx:{display:"flex",alignItems:"center",gap:"1rem"},children:e.jsx("img",{alt:"",width:200,height:80,src:s.getValue(),loading:"lazy",style:{borderRadius:"5%"}})})},{accessorKey:"nomcategorie",header:"Nom Catégorie",size:100},{accessorKey:"id",header:"actions",size:10,Cell:({cell:s,row:o})=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"0.5rem"},children:[e.jsx(d,{onClick:()=>{c(`/categories/edit/${s.row.original.id}`)},variant:"contained",color:"warning",style:{fontSize:"20px",padding:"12px 24px"},children:e.jsx("i",{className:"fa-solid fa-pen-to-square"})}),e.jsx(d,{onClick:()=>{n(s.row.original.id)},variant:"contained",color:"error",style:{fontSize:"20px",padding:"12px 24px"},children:e.jsx("i",{className:"fa fa-trash"})})]})}],[a]),t=h({columns:l,data:a});return e.jsx("div",{className:"container",children:a&&a.length>0&&e.jsx(f,{table:t})})},v=()=>{const[a,i]=r.useState([]),[n,c]=r.useState(!0),l=async()=>{await g.get("https://backendecomgs1.vercel.app/api/api/categories").then(t=>{i(t.data)}).catch(t=>{console.log(t)}).finally(()=>c(!1))};return r.useEffect(()=>{l()},[]),n?e.jsx("div",{children:"Loading Data please wait..."}):e.jsxs("div",{children:[e.jsx(d,{variant:"contained",style:{backgroundColor:"black"},children:e.jsxs(p,{to:"/categories/add",style:{color:"white",textDecoration:"none"},children:[e.jsx("i",{className:"fa-solid fa-plus-square"})," Nouveau"]})}),e.jsx("h2",{children:"Liste des catégories "}),e.jsx(m,{categories:a,setCategories:i})]})};export{v as default};
